{% extends "manag_template.html"%}
{% block title%}
RDS: 관리자마당 회원관리
{% endblock title%}


{% block main %}
<form action="">
    <h2>회원 관리</h2>

    <table class="table table-hover">
      <thead>
        <tr>
          <th>번호</th>
          <th>아이디</th>
          <th>정보 보기</th>
        </tr>
      </thead>
      <tbody>
        {% for User in user_list %}
          <td>{{pagination.start_record_number + loop.index0}}</td>
          <td >{{User.user_ID}}</td>
          <td><button formaction="/manag/user/user_detail/{{User.id}}">정보 보기</button></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <nav aria-label="Page navigation">
      <ul class="pagination justify-content-center">
        <li class="page-item {{ '' if pagination.has_previous_block else 'disabled' }}">
          <button type="submit" class="page-link" formaction="/manag/user/{{pagination.first_page}}?key_name={{ request._query_params.key_name|urlencode }}&search_word={{ search_word }}">
            맨 처음
          </button>
    
        </li>
        <li class="page-item {{ '' if pagination.has_previous_page else 'disabled' }}">
          <button type="submit" class="page-link"
            formaction="/manag/user/{{pagination.previous_page}}?key_name={{ request._query_params.key_name|urlencode }}&search_word={{ search_word }}">이전</button>
        </li>
        {% for page_num in pagination.current_page_range %}
        <li class="page-item {{ 'active' if page_num == pagination.current_page else '' }}">
          <button type="submit" class="page-link" formaction="/manag/user/{{ page_num }}?key_name={{ request._query_params.key_name|urlencode }}&search_word={{ search_word }}">
            {{page_num}}
          </button>
        </li>
        {% endfor %}
        <li class="page-item {{ '' if pagination.has_next_page else 'disabled' }}">
          <button type="submit" class="page-link"
            formaction="/manag/user/{{ pagination.next_page }}?key_name={{ request._query_params.key_name|urlencode }}&search_word={{ search_word }}">다음</button>
        </li>
        <li class="page-item {{ '' if pagination.has_next_block else 'disabled' }}">
          <button type="submit" class="page-link" formaction="/manag/user/{{ pagination.last_page }}?key_name={{ request._query_params.key_name|urlencode }}&search_word={{ search_word }}">
            맨 끝
          </button>
        </li>
      </ul>
    </nav>
    </form>
{% endblock main %}