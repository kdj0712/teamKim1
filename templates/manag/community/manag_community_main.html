{% extends "manag/manag_template.html"%}
{% block title %}
RDS: 관리자마당 공지사항관리
{% endblock title%}

{% block main %}
<main class="col-md-9 col-lg-10 px-md-4">
    <form action="">

        <h2>커뮤니티 관리</h2>

        <div class="justify-content-center row">
            <div class="row col-7">
                <div class="col-2">
                    <select class="form-control" name="" id="selected_field">
                        <option value="">게시판유형</option>
                        <option value="">제목</option>
                        <option value="">작성자</option>
                        <option value="">작성날짜</option>
                    </select>
                </div>
                <div class="col-8">
                    <input class="form-control" placeholder="Enter Search!" name="" id="search_keyword" value="">
                </div>
                <div class="col-2">
                    <button type="submit" class="btn btn-primary" formaction="/manag/manag_community_main"
                        formmethod="get" id="검색" onclick="performSearch()">검색</button>
                </div>
            </div>
        </div>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th width="60px">번호</th>
                    <th>커뮤니티 유형</th>
                    <th>관련 내용</th>
                    <th>
                        <div>제목</div>
                        <div class="small" style="font-size: small;">관련질환명</div>
                    </th>
                    <th>작성날짜</th>
                </tr>
            </thead>

            <tbody>
                {% for community in communitys %}
                <tr onclick="location.href='/manag/manag_community_read/{{community.id}}'"
                    style="cursor: pointer;">
                    <td>{{loop.index}}</td>
                    <td>{{community.community_type}}</td>
                    <td>{{community.community_subject}}</td>
                    <td>
                        <div>{{community.community_title}}</div>
                        <div class="small" style="font-size: x-small;">{{community.community_related_diseases}}
                        </div>
                    </td>
                    <td>{{community.community_date}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <nav aria-label="Page navigation">
            <ul class="pagination justify-content-center">
                <li class="page-item ">
                    <button type="submit" class="page-link"
                        formaction="/manag/manag_community_main/{{pagination.first_page}}">
                        맨 처음
                    </button>

                </li>
                <li class="page-item">
                    <button type="submit" class="page-link"
                        formaction="/manag/manag_community_main/{{pagination.previous_page}}">이전</button>
                </li>
                {% for page_num in pagination.current_page_range %}
                <li class="page-item">
                    <button type="submit" class="page-link" formaction="/manag/manag_community_main/{{ page_num }}">
                        {{page_num}}
                    </button>
                </li>
                {% endfor %}
                <li class="page-item">
                    <button type="submit" class="page-link"
                        formaction="/manag/manag_community_main{{ pagination.next_page }}">다음</button>
                </li>
                <li class="page-item">
                    <button type="submit" class="page-link"
                        formaction="/manag/manag_community_main{{ pagination.last_page }}">
                        맨 끝
                    </button>
                </li>
            </ul>
        </nav>
    </form>
</main>


{% endblock main %}